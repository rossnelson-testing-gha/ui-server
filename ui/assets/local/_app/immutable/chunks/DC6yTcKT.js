import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as _e,e as n,c as i,r as l,t as A,d,b as be,f as me,g as t,m as W,l as de,a as Be,n as ve,s as v,az as q}from"./Dv5jDC8Z.js";import{s as T}from"./CnnFVxmh.js";import{i as Z}from"./FbCjvpNA.js";import{a as _,t as S,c as ze,b as fe}from"./BM_uyzAk.js";import{c as ge,s as se,b as Ne,a as Oe}from"./wdddUT-U.js";import{t as Me,a as We}from"./B7mZDVs5.js";import{i as xe}from"./CM2QeVoh.js";import{l as ye,p as s}from"./BbkaS_Cl.js";import{s as Fe,a as Q,b as F}from"./CEr_ApTH.js";import{w as He}from"./s0RhsljA.js";import{p as Ge}from"./C4EHgxxn.js";import{A as Ie}from"./D_K8_Y-v.js";import{B as Ce}from"./o0T750pR.js";import{L as Je}from"./Do7dxYOJ.js";import{t as a}from"./CZMG2GAD.js";import{c as $e,p as Te,i as je,o as Ee}from"./B4njcElU.js";import{r as Ke}from"./D6vOFxie.js";import{v as Qe,a as Le}from"./Dq3hB7XF.js";import{s as Ue}from"./CevXMagP.js";import{g as Xe,e as re}from"./C1S4hUbu.js";import{a as Ye}from"./C51OyGPc.js";import{s as Ze}from"./Bfc47y5P.js";import{b as ae}from"./ZOBUq9Fo.js";import{L as et}from"./BtoDfu-7.js";import{t as ce}from"./Ds6tgvmq.js";import{T as Pe}from"./Cf5tKryT.js";import{R as tt,a as De}from"./CqHSrFv6.js";var rt=S('<p class="-mt-1 text-sm"> </p>'),at=S("<p> </p>"),st=S("<!> <!>",1),ot=S('<span class="count svelte-1ie3gjb"><span> </span> </span>'),nt=S('<div><!> <!> <div><textarea></textarea></div> <div class="flex justify-between gap-2"><div><!></div> <!></div></div>');function it(G,e){const b=ye(e,["children","$$slots","$$events","$$legacy"]),U=ye(b,["disabled","error","isValid","placeholder","rows","spellcheck","value","label","labelHidden","id","required","description","maxLength","class"]);_e(e,!1);let m=s(e,"disabled",8,!1),j=s(e,"error",8,""),x=s(e,"isValid",8,!0),I=s(e,"placeholder",8,""),V=s(e,"rows",8,5),J=s(e,"spellcheck",8,null),H=s(e,"value",12),w=s(e,"label",8),E=s(e,"labelHidden",8,!1),k=s(e,"id",8),B=s(e,"required",8,!1),L=s(e,"description",8,""),y=s(e,"maxLength",8,0),f=s(e,"class",8,"text-primary");xe();var g=nt(),o=n(g);et(o,{get required(){return B()},get hidden(){return E()},get label(){return w()},get for(){return k()}});var P=i(o,2);{var X=r=>{var c=rt(),p=n(c,!0);l(c),A(()=>T(p,L())),_(r,c)};Z(P,r=>{L()&&r(X)})}var z=i(P,2),C=n(z);Xe(C);let oe;l(z);var ne=i(z,2),R=n(ne);let N;var ie=n(R);{var ee=r=>{var c=st(),p=me(c);{var O=K=>{var $=at(),D=n($,!0);l($),A(()=>T(D,j())),_(K,$)};Z(p,K=>{j()&&K(O)})}var Y=i(p,2);Ue(Y,e,"error",{},null),_(r,c)};Z(ie,r=>{x()||r(ee)})}l(R);var le=i(R,2);{var ue=r=>{var c=ot(),p=n(c);let O;var Y=n(p,!0);l(p);var K=i(p);l(c),A($=>{var D;O=se(p,1,"text-information svelte-1ie3gjb",null,O,$),T(Y,((D=H())==null?void 0:D.length)??0),T(K,` / ${y()??""}`)},[()=>{var $,D;return{warn:y()-(($=H())==null?void 0:$.length)<=5,error:y()===((D=H())==null?void 0:D.length)}}],d),_(r,c)};Z(le,r=>{y()&&!m()&&r(ue)})}l(ne),l(g),A((r,c,p,O)=>{se(g,1,r,"svelte-1ie3gjb"),se(z,1,c,"svelte-1ie3gjb"),oe=Ne(C,oe,{class:p,id:k(),disabled:m(),placeholder:I(),rows:V(),spellcheck:J(),maxlength:y()>0?y():void 0,"data-testid":k(),...U},"svelte-1ie3gjb"),N=se(R,1,"error-msg svelte-1ie3gjb",null,N,O),Oe(R,"aria-live",x()?"off":"assertive")},[()=>ge(ce("group flex flex-col gap-1",f())),()=>ge(ce("relative box-border inline-flex w-full border border-subtle focus-within:border-information focus-within:ring-2 focus-within:ring-primary/70",!x()&&"error",!m()&&"hover:border-information")),()=>ce("surface-primary min-h-fit w-full px-3 py-2 text-sm placeholder:text-secondary focus-visible:outline-none",m()&&"cursor-not-allowed opacity-50"),()=>({"min-width":y()})],d),Ye(C,H),re("input",C,function(r){ae.call(this,e,r)}),re("change",C,function(r){ae.call(this,e,r)}),re("focus",C,function(r){ae.call(this,e,r)}),re("blur",C,function(r){ae.call(this,e,r)}),re("keydown",C,Ze(function(r){ae.call(this,e,r)})),_(G,g),be()}var lt=S('<small data-testid="data-encoder-cross-origin-credentials"> </small>'),dt=S('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><!> <!> <!> <!></div></div>');function ct(G,e){_e(e,!1);let b=s(e,"endpoint",12,""),U=s(e,"passToken",12,!1),m=s(e,"includeCreds",12,!1),j=s(e,"error",8,"");xe();var x=dt(),I=n(x),V=n(I);const J=d(()=>a("data-encoder.endpoint-placeholder")),H=d(()=>!j()),w=d(()=>a("data-encoder.endpoint-title")),E=d(()=>a("data-encoder.endpoint-description"));it(V,{id:"data-encoder-endpoint-input",rows:3,get placeholder(){return t(J)},get error(){return j()},get isValid(){return t(H)},get label(){return t(w)},get description(){return t(E)},get value(){return b()},set value(o){b(o)},$$legacy:!0});var k=i(V,2);const B=d(()=>a("data-encoder.pass-access-token-label"));Pe(k,{get label(){return t(B)},id:"pass-access-token","data-testid":"data-encoder-pass-access-token",get checked(){return U()},set checked(o){U(o)},$$legacy:!0});var L=i(k,2);const y=d(()=>a("data-encoder.include-cross-origin-credentials-label"));Pe(L,{get label(){return t(y)},id:"pass-access-credentials","data-testid":"data-encoder-include-credentials",get checked(){return m()},set checked(o){m(o)},$$legacy:!0});var f=i(L,2);{var g=o=>{var P=lt(),X=n(P,!0);l(P),A(z=>T(X,z),[()=>a("data-encoder.include-cross-origin-credentials-warning")],d),_(o,P)};Z(f,o=>{m()&&o(g)})}l(I),l(x),_(G,x),be()}const ut=G=>G.replace(/\/+$/,""),pe=He(!1);var vt=S("<!> <!>",1),ft=S('<aside><div class="flex w-full flex-col gap-4 xl:w-1/2"><div class="flex items-center justify-between space-x-2"><h3 data-testid="data-encoder-title"> </h3></div> <p class="text-sm"> <!> </p> <!> <!> <div class="flex items-center gap-4"><!> <!></div></div></aside>');function Wt(G,e){_e(e,!1);const[b,U]=Fe(),m=()=>Q($e,"$codecEndpoint",b),j=()=>Q(Te,"$passAccessToken",b),x=()=>Q(je,"$includeCredentials",b),I=()=>Q(Ee,"$overrideRemoteCodecConfiguration",b),V=()=>Q(Ge,"$page",b),J=()=>Q(pe,"$viewDataEncoderSettings",b),H=()=>Q(P,"$override",b),w=W(),E=W();var k=W(),B=W(),L=W();let y=s(e,"class",8,""),f=W(m()!==null&&m()!==void 0?m():""),g=W(j()!==null&&j()!==void 0?j():!1),o=W(x()!==null&&x()!==void 0?x():!1),P=He(I());const X=()=>{v(f,m()),v(g,j()),v(o,x()),F(P,I()),F(pe,!1)},z=()=>{v(w,""),F($e,t(f)?ut(t(f)):t(f)),F(Te,t(g)),F(je,t(o)),F(pe,!1),F(Ee,H()),V().url.pathname.endsWith("history")&&F(Ke,Date.now())};de(()=>{},()=>{v(w,"")}),de(()=>(q(L),q(B),q(k),V(),a),()=>{v(E,!(v(L,v(B,v(k,V().data)===null||q(k)===void 0?void 0:q(k).settings)===null||q(B)===void 0?void 0:q(B).runtimeEnvironment)===null||q(L)===void 0)&&q(L).isCloud?a("common.namespaces"):a("common.cluster"))}),de(()=>(t(g),t(f),Le),()=>{t(g)&&!Qe(t(f))?v(w,a("data-encoder.access-token-https-error")):t(f)&&!Le(t(f))?v(w,a("data-encoder.prefix-error")):v(w,"")}),de(()=>J(),()=>{J()||X()}),Be(),xe();var C=ze(),oe=me(C);{var ne=R=>{var N=ft(),ie=n(N),ee=n(ie),le=n(ee),ue=n(le,!0);l(le),l(ee);var r=i(ee,2),c=n(r,!0),p=i(c);Je(p,{href:"https://docs.temporal.io/dataconversion#codec-server",newTab:!0,children:(u,te)=>{ve();var h=fe();A(M=>T(h,M),[()=>a("common.codec-server")],d),_(u,h)},$$slots:{default:!0}});var O=i(p);l(r);var Y=i(r,2);const K=d(()=>H()?a("data-encoder.browser-override-description",{level:t(E)}):a("data-encoder.no-browser-override-description",{level:t(E)}));Ie(Y,{"data-testid":"override-accordion",get title(){return t(K)},children:(u,te)=>{tt(u,{name:"override",group:P,children:(h,M)=>{var we=vt(),ke=me(we);const Ae=d(()=>a("data-encoder.no-browser-override-description",{level:t(E)}));De(ke,{id:"use-configuration-endpoint-radio","data-testid":"use-configuration-endpoint-input",value:!1,get label(){return t(Ae)}});var Se=i(ke,2);const Ve=d(()=>a("data-encoder.browser-override-description",{level:t(E)}));De(Se,{id:"use-local-endpoint-radio","data-testid":"use-local-endpoint-input",value:!0,get label(){return t(Ve)}}),_(h,we)},$$slots:{default:!0}})},$$slots:{default:!0}});var $=i(Y,2);ct($,{get error(){return t(w)},get endpoint(){return t(f)},set endpoint(u){v(f,u)},get passToken(){return t(g)},set passToken(u){v(g,u)},get includeCreds(){return t(o)},set includeCreds(u){v(o,u)},$$legacy:!0});var D=i($,2),he=n(D);const Re=d(()=>!!t(w));Ce(he,{get disabled(){return t(Re)},"data-testid":"confirm-data-encoder-button",type:"submit",$$events:{click:z},children:(u,te)=>{ve();var h=fe();A(M=>T(h,M),[()=>a("common.apply")],d),_(u,h)},$$slots:{default:!0}});var qe=i(he,2);Ce(qe,{variant:"ghost","data-testid":"cancel-data-encoder-button",$$events:{click:X},children:(u,te)=>{ve();var h=fe();A(M=>T(h,M),[()=>a("common.cancel")],d),_(u,h)},$$slots:{default:!0}}),l(D),l(ie),l(N),A((u,te,h,M)=>{se(N,1,u),T(ue,te),T(c,h),T(O,` ${M??""}`)},[()=>ge(ce("surface-primary relative flex h-[540px] w-full flex-col gap-6 overflow-auto border-b border-subtle p-4 md:p-12",y())),()=>a("common.codec-server"),()=>a("data-encoder.codec-server-description-prefix"),()=>a("data-encoder.codec-server-description-suffix",{level:t(E)})],d),Me(1,N,()=>We,()=>({y:-50,delay:0,duration:500})),_(R,N)};Z(oe,R=>{J()&&R(ne)})}_(G,C),be(),U()}export{Wt as D,pe as v};
