import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as ge,e as o,r as a,c as i,t as x,d as t,b as he,f as j,g as e,l as Se,s as c,ag as Xt,a as _t,m as R,n as xe,i as Ht,az as pt}from"../chunks/Dv5jDC8Z.js";import{a as d,t as y,b as me,c as Pe}from"../chunks/BM_uyzAk.js";import{i as $e}from"../chunks/CM2QeVoh.js";import{s as at,a as ve,b as Be}from"../chunks/CEr_ApTH.js";import{p as Yt}from"../chunks/DUbvhX2N.js";import{P as Er}from"../chunks/PLLlBlGt.js";import{s as u}from"../chunks/CnnFVxmh.js";import{a as Zt}from"../chunks/Cr1-wnh-.js";import{i as _e}from"../chunks/FbCjvpNA.js";import{e as Fe,i as Ee}from"../chunks/CocFUsaO.js";import{w as jr}from"../chunks/s0RhsljA.js";import{g as Nr}from"../chunks/Dt0BXCrN.js";import{p as N,l as mt}from"../chunks/BbkaS_Cl.js";import{A as er}from"../chunks/D_K8_Y-v.js";import{t as r}from"../chunks/CZMG2GAD.js";import{s as Qr}from"../chunks/CevXMagP.js";import{s as Vr,b as Gr}from"../chunks/wdddUT-U.js";import{S as Jr}from"../chunks/Dc5FhhFJ.js";import{p as Ze,s as tr}from"../chunks/CTBtQUu0.js";import{B as Kr}from"../chunks/BXfWvgor.js";import{C as ft}from"../chunks/uEljFHmr.js";import{P as Ot}from"../chunks/BnbciIRk.js";import{E as rr}from"../chunks/lbyfKwPg.js";import{L as qe}from"../chunks/JRCi7r2-.js";import{n as Xr,j as qt,r as Yr,o as Zr,w as es}from"../chunks/GZlEQDL6.js";import{f as je,t as gt,r as ht,g as Et}from"../chunks/9czO_RoD.js";import{d as sr}from"../chunks/BOkQ1rrX.js";import{b as ts,m as rs,o as et,x as ss}from"../chunks/Bejpy5M8.js";import{W as ar}from"../chunks/uFOGAOV_.js";import{d as as}from"../chunks/Bc9mmJe5.js";import{p as os,s as Re,q as ns}from"../chunks/Be5fLl4T.js";import{W as ls}from"../chunks/Dts8O3a7.js";import{B as jt}from"../chunks/Dwfpj6FK.js";import{D as Nt,T as Qt}from"../chunks/CtkXdByl.js";import{I as is}from"../chunks/CrYHGHR9.js";import{I as cs}from"../chunks/8SvWOUh3.js";import{L as Vt}from"../chunks/CKG0nj-D.js";import{d as tt}from"../chunks/DteaHS_F.js";import{M as rt}from"../chunks/CvPNX5O5.js";import{R as Gt,a as Jt}from"../chunks/CqHSrFv6.js";import{S as ds}from"../chunks/Dg_A0vW-.js";import{T as us,b as vs}from"../chunks/Boc8GIKt.js";import{f as Oe,l as st,d as ps,u as fs,p as ms,t as _s,g as gs}from"../chunks/Es6MmIER.js";import{c as hs}from"../chunks/ChCliITa.js";var $s=y('<div><h2 class="mb-4"> </h2> <p> </p></div>');function xs(I,v){ge(v,!1);let f=N(v,"notes",8,"");$e();var S=$s(),g=o(S),$=o(g,!0);a(g);var k=i(g,2),C=o(k,!0);a(k),a(S),x(U=>{u($,U),u(C,f())},[()=>r("common.notes")],t),d(I,S),he()}var ws=y('<li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li>'),bs=y('<ul class="settings-list svelte-s42yf"><li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li> <!> <li class="svelte-s42yf"> <span class="svelte-s42yf"> </span></li></ul>'),ys=y("<!> <!>",1);function ks(I,v){ge(v,!1);let f=N(v,"spec",8),S=N(v,"state",8),g=N(v,"policies",8),$=N(v,"notes",8,"");$e();var k=ys(),C=j(k);xs(C,{get notes(){return $()}});var U=i(C,2);const G=t(()=>r("schedules.advanced-settings"));er(U,{get title(){return e(G)},children:(F,J)=>{var z=bs(),w=o(z),b=o(w),Q=i(b),H=o(Q,!0);a(Q),a(w);var V=i(w,2),K=o(V),ie=i(K),se=o(ie,!0);a(ie),a(V);var A=i(V,2),T=o(A),_=i(T),M=o(_,!0);a(_),a(A);var O=i(A,2),q=o(O),ae=i(q),Y=o(ae,!0);a(ae),a(O);var Z=i(O,2);{var ee=P=>{var L=ws(),fe=o(L),re=i(fe),we=o(re,!0);a(re),a(L),x((ce,ze)=>{u(fe,`${ce??""} `),u(we,ze)},[()=>r("schedules.remaining-actions"),()=>{var ce;return((ce=S())==null?void 0:ce.remainingActions)??r("common.none")}],t),d(P,L)};_e(Z,P=>{var L;(L=S())!=null&&L.limitedActions&&P(ee)})}var pe=i(Z,2),te=o(pe),oe=i(te),ne=o(oe,!0);a(oe),a(pe),a(z),x((P,L,fe,re,we,ce,ze,ot,nt,Qe)=>{u(b,`${P??""} `),u(H,L),u(K,`${fe??""} `),u(se,re),u(T,`${we??""} `),u(M,ce),u(q,`${ze??""} `),u(Y,ot),u(te,`${nt??""} `),u(ne,Qe)},[()=>r("schedules.start-time"),()=>{var P;return((P=f())==null?void 0:P.startTime)??r("common.none")},()=>r("schedules.end-time"),()=>{var P;return((P=f())==null?void 0:P.endTime)??r("common.none")},()=>r("schedules.jitter"),()=>{var P;return((P=f())==null?void 0:P.jitter)??r("common.none")},()=>r("schedules.exclusion-calendar"),()=>{var P,L;return((L=(P=f())==null?void 0:P.excludeCalendar)==null?void 0:L[0])??r("common.none")},()=>r("schedules.overlap-policy"),()=>{var P;return((P=g())==null?void 0:P.overlapPolicy)??r("common.none")}],t),d(F,z)},$$slots:{default:!0}}),d(I,k),he()}var Ts=y("<div><!></div>");function Ne(I,v){const f=mt(v,["children","$$slots","$$events","$$legacy"]);ge(v,!1);let S=N(v,"error",8,!1);$e();var g=Ts();let $;var k=o(g);Qr(k,v,"default",{},null),a(g),x(C=>$=Vr(g,1,`panel surface-primary ${f.class??""}`,"svelte-eklrpl",$,C),[()=>({error:S()})],t),d(I,g),he()}var Ps=y('<p class="error-text svelte-130heqv"> </p> <p class="error-text svelte-130heqv"> </p>',1);function Kt(I,v){ge(v,!1);let f=N(v,"error",8,"");$e(),Ne(I,{error:!0,children:(S,g)=>{var $=Ps(),k=j($),C=o(k,!0);a(k);var U=i(k,2),G=o(U,!0);a(U),x(F=>{u(C,F),u(G,f())},[()=>r("schedules.error-title")],t),d(S,$)},$$slots:{default:!0}}),he()}var Ss=y('<h2 class="mb-4"> </h2> <div class="pr-2"><!></div>',1);function Cs(I,v){ge(v,!1);let f=N(v,"calendar",8,void 0),S=N(v,"interval",8,void 0),g=N(v,"timezoneName",8,"UTC");$e(),Ne(I,{children:($,k)=>{var C=Ss(),U=j(C),G=o(U,!0);a(U);var F=i(U,2),J=o(F);Jr(J,{get calendar(){return f()},get interval(){return S()},get timezoneName(){return g()},class:"text-base"}),a(F),x(z=>u(G,z),[()=>r("schedules.schedule-spec")],t),d($,C)},$$slots:{default:!0}}),he()}var As=y('<div class="max-h-96 overflow-auto p-1"><!></div>'),Is=y('<article><h3 class="mb-2 flex items-center gap-2"> <!></h3> <!></article>');function Ds(I,v){const f=mt(v,["children","$$slots","$$events","$$legacy"]),S=mt(f,["content","title","running"]);ge(v,!1);const g=R(),$=R(),k=R(),C=R();let U=N(v,"content",8),G=N(v,"title",8),F=N(v,"running",8,!1);const J=_=>{try{return Ze(_)}catch{return}},z=_=>{try{const M=Ze(_);return Array.isArray(M)?Ze(_):[]}catch{return[]}},w=_=>{try{const M=_==null?void 0:_.payloads;return Array.isArray(M)?M:[]}catch{return[]}};Se(()=>Xt(U()),()=>{c(g,J(U()))}),Se(()=>e(g),()=>{c($,w(e(g)))}),Se(()=>e($),()=>{c(k,e($).length>0)}),Se(()=>e($),()=>{c(C,e($).length>1)}),_t(),$e();var b=Is();let Q;var H=o(b),V=o(H),K=i(V);{var ie=_=>{Kr(_,{type:"count",children:(M,O)=>{xe();var q=me();x(()=>u(q,e($).length)),d(M,q)},$$slots:{default:!0}})};_e(K,_=>{e(C)&&_(ie)})}a(H);var se=i(H,2);{var A=_=>{var M=Pe(),O=j(M);{var q=Y=>{var Z=As(),ee=o(Z);Ot(ee,{get value(){return e(g)},key:"payloads",children:Ht,$$slots:{default:(pe,te)=>{const oe=t(()=>te.decodedValue);var ne=Pe(),P=j(ne);Fe(P,1,()=>z(e(oe)),Ee,(L,fe)=>{const re=t(()=>tr(e(fe))),we=t(()=>r("common.copy-icon-title")),ce=t(()=>r("common.copy-success-icon-title"));ft(L,{get content(){return e(re)},class:"mb-2",get copyIconTitle(){return e(we)},get copySuccessIconTitle(){return e(ce)}})}),d(pe,ne)}}}),a(Z),d(Y,Z)},ae=Y=>{const Z=t(()=>Ze(U()));Ot(Y,{get value(){return e(Z)},children:Ht,$$slots:{default:(ee,pe)=>{const te=t(()=>pe.decodedValue),oe=t(()=>r("common.copy-icon-title")),ne=t(()=>r("common.copy-success-icon-title"));ft(ee,{get content(){return e(te)},class:"mb-2 pt-1",maxHeight:384,get copyIconTitle(){return e(oe)},get copySuccessIconTitle(){return e(ne)}})}}})};_e(O,Y=>{e(k)?Y(q):Y(ae,!1)})}d(_,M)},T=_=>{const M=t(()=>F()?"Results will appear upon completion.":"");ft(_,{get content(){return e(M)},language:"text",class:"mb-2 pt-1",maxHeight:384,copyable:!1})};_e(se,_=>{U()?_(A):_(T,!1)})}a(b),x(()=>{Q=Gr(b,Q,{class:"flex w-full flex-col",...S}),u(V,`${G()??""} `)}),d(I,b),he()}function Ms(I,v){ge(v,!1);let f=N(v,"input",8);$e(),Ne(I,{children:(S,g)=>{const $=t(()=>r("schedules.schedule-input")),k=t(()=>tr(f()));Ds(S,{get title(){return e($)},get content(){return e(k)}})},$$slots:{default:!0}}),he()}var Rs=y('<div class="row svelte-19syzt9"><div class="w-28"><!></div> <div class="mx-2 w-auto break-words"><!></div> <div class="ml-auto"><p> </p></div></div>'),Us=y('<div class="row svelte-19syzt9"><div class="w-28"></div> <div class="w-96"> </div> <div class="ml-auto"><p> </p></div></div>'),Ws=y('<div class="flex justify-between"><h2 class="mb-4"> </h2> <!></div> <!> <!>',1);function Bs(I,v){ge(v,!1);const[f,S]=at(),g=()=>ve(gt,"$timeFormat",f),$=()=>ve(ht,"$relativeTime",f);let k=N(v,"recentRuns",24,()=>[]),C=N(v,"namespace",8),U=N(v,"workflowQuery",8);const G=F=>{var J,z;return(z=(J=F==null?void 0:F.sort((w,b)=>new Date(b.actualTime).getTime()-new Date(w.actualTime).getTime()))===null||J===void 0?void 0:J.slice(0,5))!==null&&z!==void 0?z:[]};$e(),Ne(I,{class:"w-full",children:(F,J)=>{var z=Ws(),w=j(z),b=o(w),Q=o(b,!0);a(b);var H=i(b,2);const V=t(()=>rs({namespace:C(),query:U()}));qe(H,{get href(){return e(V)},children:(A,T)=>{xe();var _=me();x(M=>u(_,M),[()=>r("common.view-all-runs")],t),d(A,_)},$$slots:{default:!0}}),a(w);var K=i(w,2);Fe(K,1,()=>G(k()),A=>{var T;return(T=A==null?void 0:A.startWorkflowResult)==null?void 0:T.workflowId},(A,T)=>{var _=Pe(),M=j(_);Zt(M,()=>Xr({namespace:C(),workflowId:sr(e(T).startWorkflowResult.workflowId),runId:e(T).startWorkflowResult.runId},fetch),null,(O,q)=>{var ae=Rs(),Y=o(ae),Z=o(Y);ar(Z,{get status(){return e(q).status}}),a(Y);var ee=i(Y,2),pe=o(ee);const te=t(()=>ts({workflow:e(T).startWorkflowResult.workflowId,run:e(T).startWorkflowResult.runId,namespace:C()}));qe(pe,{get href(){return e(te)},children:(L,fe)=>{xe();var re=me();x(()=>u(re,e(T).startWorkflowResult.workflowId)),d(L,re)},$$slots:{default:!0}}),a(ee);var oe=i(ee,2),ne=o(oe),P=o(ne,!0);a(ne),a(oe),a(ae),x(L=>u(P,L),[()=>je(e(T).actualTime,g(),{relative:$()})],t),d(O,ae)},O=>{var q=Us(),ae=i(o(q),2),Y=o(ae,!0);a(ae);var Z=i(ae,2),ee=o(Z),pe=o(ee,!0);a(ee),a(Z),a(q),x(te=>{u(Y,e(T).startWorkflowResult.workflowId),u(pe,te)},[()=>je(e(T).actualTime,g(),{relative:$()})],t),d(O,q)}),d(A,_)});var ie=i(K,2);{var se=A=>{const T=t(()=>r("schedules.recent-runs-empty-state-title"));rr(A,{get title(){return e(T)}})};_e(ie,A=>{k().length||A(se)})}x(A=>u(Q,A),[()=>r("schedules.recent-runs")],t),d(F,z)},$$slots:{default:!0}}),he(),S()}const Fs=I=>Array.isArray(I)?I.join(", "):I;var zs=y('<li class="flex flex-wrap items-center gap-2 border-b py-2 last-of-type:border-b-0"><span class="break-all"> </span> <span class="surface-subtle select-all rounded-sm p-1 leading-4"> </span></li>'),Ls=y('<ul class="w-full"></ul>');function Hs(I,v){ge(v,!1);const f=R(),S=R(),g=R();var $=R();let k=N(v,"searchAttributes",8);Se(()=>Xt(k()),()=>{c(f,as({searchAttributes:k()}))}),Se(()=>(pt($),e(f)),()=>{c(S,c($,e(f)===null||e(f)===void 0?void 0:e(f).searchAttributes.indexedFields)!==null&&pt($)!==void 0?pt($):{})}),Se(()=>e(S),()=>{c(g,Object.keys(e(S)).length)}),_t(),$e();const C=t(()=>r("events.custom-search-attributes")),U=t(()=>`${e(g)} ${r("events.custom-search")} ${os(r("events.attribute"),e(g))}`),G=t(()=>e(g)>0);er(I,{get title(){return e(C)},get subtitle(){return e(U)},get expandable(){return e(G)},children:(F,J)=>{var z=Pe(),w=j(z);{var b=Q=>{var H=Ls();Fe(H,5,()=>Object.entries(e(S)),Ee,(V,K)=>{let ie=()=>e(K)[0],se=()=>e(K)[1];var A=zs();const T=t(()=>Fs(se()));var _=o(A),M=o(_,!0);a(_);var O=i(_,2),q=o(O,!0);a(O),a(A),x(()=>{u(M,ie()),u(q,e(T))}),d(V,A)}),a(H),d(Q,H)};_e(w,Q=>{e(g)&&Q(b)})}d(F,z)},$$slots:{default:!0}}),he()}var Os=y('<div class="row svelte-dqszqh"><p> </p></div>'),qs=y('<h2 class="mb-4"> </h2> <!>',1);function Es(I,v){ge(v,!1);const[f,S]=at(),g=()=>ve(gt,"$timeFormat",f),$=()=>ve(ht,"$relativeTime",f);let k=N(v,"futureRuns",24,()=>[]);$e(),Ne(I,{class:"w-full",children:(C,U)=>{var G=qs(),F=j(G),J=o(F,!0);a(F);var z=i(F,2);Fe(z,1,()=>k().slice(0,5),Ee,(w,b)=>{var Q=Os(),H=o(Q),V=o(H,!0);a(H),a(Q),x(K=>u(V,K),[()=>je(e(b),g(),{relative:$(),relativeLabel:r("common.from-now")})],t),d(w,Q)},w=>{const b=t(()=>r("schedules.upcoming-runs-empty-state-title"));rr(w,{get title(){return e(b)}})}),x(w=>u(J,w),[()=>r("schedules.upcoming-runs")],t),d(C,G)},$$slots:{default:!0}}),he(),S()}var js=y('<div class="flex items-center gap-2 text-sm"><p> </p></div>'),Ns=y("<!> <!> <!> <!>",1),Qs=y('<div class="w-full xl:w-1/2"><!></div>'),Vs=y('<div class="flex w-full flex-col gap-2 text-lg"><div class="flex items-center gap-2"><span data-testid="workflow-count"> <!></span> <!></div> <!></div>'),Gs=y('<h3 slot="title"> </h3>'),Js=y('<div slot="content"><p> </p> <p class="my-4"> </p> <!></div>'),Ks=y('<h3 slot="title"> </h3>'),Xs=y('<div slot="content"><!></div>'),Ys=y('<h3 slot="title"> </h3>'),Zs=y('<div slot="content" class="p-0"><div class="flex flex-col gap-2 p-2"><!> <!> <!> <!> <div class="flex w-full flex-row items-center gap-2"><!> <span class="text-xs font-normal text-slate-500"> </span></div></div> <hr tabindex="-1" aria-hidden="true" class="my-4 w-full border-subtle"> <div class="flex max-h-52 flex-col gap-2 overflow-auto"><!> <!></div></div>'),ea=y('<h3 slot="title"> </h3>'),ta=y('<div slot="content"><p> </p></div>'),ra=y('<header class="mb-8 flex flex-row flex-wrap justify-between gap-4"><div class="relative flex flex-col gap-4"><!> <h1 class="relative flex items-center"><span class="select-all" data-testid="schedule-name"></span></h1> <div class="flex flex-wrap items-center gap-2 text-lg"><!> <p> </p></div> <p class="flex items-center gap-2 text-sm"> </p> <!></div> <!></header> <div class="flex flex-col gap-4 pb-24"><!> <!> <div class="flex flex-col gap-4 xl:flex-row"><div class="flex w-full flex-col items-start gap-4 xl:w-2/3"><!> <!> <!> <!></div> <div class="flex w-full flex-col gap-4 xl:w-1/3"><!> <!></div></div></div> <!> <!> <!> <!>',1),sa=y('<header class="mb-8"><div class="relative flex flex-col gap-1"><!> <h1 class="mt-8 select-all" data-testid="schedule-name"></h1> <p class="text-sm"></p></div></header> <!>',1),aa=y('<header class="mb-8"><div class="relative flex flex-col gap-4"><!> <h1 class="select-all" data-testid="schedule-name"></h1></div></header> <!>',1);function oa(I,v){ge(v,!1);const[f,S]=at(),g=()=>ve(Yt,"$page",f),$=()=>ve(ae,"$coreUser",f),k=()=>ve(st,"$loading",f),C=()=>ve(O,"$overlapPolicy",f),U=()=>ve(gt,"$timeFormat",f),G=()=>ve(ht,"$relativeTime",f),F=()=>ve(Zr,"$groupByCountEnabled",f),J=()=>ve(es,"$workflowCount",f),z=R();let w=g().params.namespace,b=g().params.schedule,Q=`TemporalScheduledById="${b}"`;const H={namespace:w,scheduleId:sr(b)};let V=R(Oe(H)),K=R(!1),ie=R(!1),se=R(!1),A=R(!1),T=R(""),_=R(""),M=R(!1),O=jr("Unspecified"),q=[{description:r("schedules.trigger-unspecified-description"),label:r("schedules.trigger-unspecified-title"),value:"Unspecified"},{description:r("schedules.trigger-buffer-all-description"),label:r("schedules.trigger-buffer-all-title"),value:"BufferAll"},{description:r("schedules.trigger-allow-all-description"),label:r("schedules.trigger-allow-all-title"),value:"AllowAll"},{description:r("schedules.trigger-skip-description"),label:r("schedules.trigger-skip-title"),value:"Skip"},{description:r("schedules.trigger-buffer-one-description"),label:r("schedules.trigger-buffer-one-title"),value:"BufferOne"},{description:r("schedules.trigger-cancel-other-description"),label:r("schedules.trigger-cancel-other-title"),value:"CancelOther"},{description:r("schedules.trigger-terminate-other-description"),label:r("schedules.trigger-terminate-other-title"),value:"TerminateOther"}],ae=hs();const Y=async()=>{c(_,"");try{Be(st,!0),await ps({namespace:w,scheduleId:b}),c(A,!1),setTimeout(()=>{Be(st,!1),Nr(et({namespace:w}))},2e3),c(T,"")}catch(W){c(_,r("schedules.delete-schedule-error",{error:W==null?void 0:W.message})),Be(st,!1)}},Z=async W=>{var m,de;!((de=(m=W==null?void 0:W.schedule)===null||m===void 0?void 0:m.state)===null||de===void 0)&&de.paused?await fs({namespace:w,scheduleId:b,reason:e(T)}):await ms({namespace:w,scheduleId:b,reason:e(T)}),c(V,Oe(H)),c(T,""),c(K,!1)},ee=()=>{c(ie,!1),Be(O,"Unspecified")},pe=async()=>{c(M,!0),await _s({namespace:w,scheduleId:b,overlapPolicy:C()}),setTimeout(()=>{c(V,Oe(H)),ee(),c(M,!1)},1e3)};let te=R(!1),oe=R(Re(new Date)),ne=R(Re(new Date)),P=R(""),L=R(""),fe=R(""),re=R(""),we=R(""),ce=R("");const ze=W=>{c(oe,Re(W.detail))},ot=W=>{c(ne,Re(W.detail))},nt=()=>{const W=new Date(Date.now()),m=vs(W,1);c(P,W.getUTCHours().toString()),c(L,W.getUTCMinutes().toString()),c(fe,W.getUTCSeconds().toString()),c(re,m.getUTCHours().toString()),c(we,m.getUTCMinutes().toString()),c(ce,m.getUTCSeconds().toString()),c(oe,Re(new Date)),c(ne,e(re)<e(P)?Re(ns(new Date,1)):Re(new Date))},Qe=()=>{c(se,!1),c(te,!1),Be(O,"Unspecified")},or=async()=>{c(M,!0);const W=Et({date:e(oe),hour:e(P),minute:e(L),second:e(fe)}),m=Et({date:e(ne),hour:e(re),minute:e(we),second:e(ce)});await gs({namespace:w,scheduleId:b,overlapPolicy:C(),startTime:W,endTime:m}),setTimeout(()=>{c(V,Oe(H)),Qe(),c(M,!1)},1e3)},$t=()=>{c(T,"")};Se(()=>($(),qt),()=>{c(z,$().namespaceWriteDisabled(w)||!qt())}),Se(()=>e(se),()=>{e(se)&&nt()}),_t(),$e();var xt=Pe(),nr=j(xt);Zt(nr,()=>e(V),W=>{var m=aa(),de=j(m),Ce=o(de),Ie=o(Ce);const Ue=t(()=>et({namespace:w}));qe(Ie,{get href(){return e(Ue)},icon:"chevron-left",children:(De,We)=>{xe();var Me=me();x(Ae=>u(Me,Ae),[()=>r("schedules.back-to-schedules")],t),d(De,Me)},$$slots:{default:!0}});var be=i(Ie,2);be.textContent=b,a(Ce),a(de);var ke=i(de,2);Vt(ke,{}),d(W,m)},(W,m)=>{var de=Pe(),Ce=j(de);{var Ie=be=>{const ke=t(()=>r("schedules.deleting"));Vt(be,{get title(){return e(ke)},class:"my-2"})},Ue=be=>{var ke=ra(),De=j(ke),We=o(De),Me=o(We);const Ae=t(()=>et({namespace:w}));qe(Me,{get href(){return e(Ae)},icon:"chevron-left",children:(s,l)=>{xe();var n=me();x(p=>u(n,p),[()=>r("schedules.back-to-schedules")],t),d(s,n)},$$slots:{default:!0}});var Ve=i(Me,2),Ge=o(Ve);Ge.textContent=b,a(Ve);var Le=i(Ve,2),wt=o(Le);const lr=t(()=>{var s;return(s=e(m))!=null&&s.schedule.state.paused?"Paused":"Running"});ar(wt,{get status(){return e(lr)}});var bt=i(wt,2),ir=o(bt,!0);a(bt),a(Le);var lt=i(Le,2),cr=o(lt,!0);a(lt);var dr=i(lt,2);{var ur=s=>{var l=js(),n=o(l),p=o(n,!0);a(n),a(l),x(h=>u(p,h),[()=>{var h,B;return r("common.last-updated",{updated:je((B=(h=e(m))==null?void 0:h.info)==null?void 0:B.updateTime,U(),{relative:G()})})}],t),d(s,l)};_e(dr,s=>{var l,n;(n=(l=e(m))==null?void 0:l.info)!=null&&n.updateTime&&s(ur)})}a(We);var vr=i(We,2);const pr=t(()=>{var s,l,n;return(n=(l=(s=e(m))==null?void 0:s.schedule)==null?void 0:l.state)!=null&&n.paused?r("schedules.unpause"):r("schedules.pause")}),fr=t(()=>r("schedules.schedule-actions"));ds(vr,{position:"right",get label(){return e(pr)},get menuLabel(){return e(fr)},id:"schedule-actions",get disabled(){return e(z)},$$events:{click:()=>c(K,!0)},children:(s,l)=>{var n=Ns(),p=j(n);tt(p,{"data-testid":"trigger-schedule",$$events:{click:()=>c(ie,!0)},children:(X,le)=>{xe();var D=me();x(ue=>u(D,ue),[()=>r("schedules.trigger")],t),d(X,D)},$$slots:{default:!0}});var h=i(p,2);tt(h,{"data-testid":"backfill-schedule",$$events:{click:()=>c(se,!0)},children:(X,le)=>{xe();var D=me();x(ue=>u(D,ue),[()=>r("schedules.backfill")],t),d(X,D)},$$slots:{default:!0}});var B=i(h,2);const ye=t(()=>ss({namespace:w,scheduleId:b}));tt(B,{"data-testid":"edit-schedule",get href(){return e(ye)},children:(X,le)=>{xe();var D=me();x(ue=>u(D,ue),[()=>r("common.edit")],t),d(X,D)},$$slots:{default:!0}});var Te=i(B,2);tt(Te,{"data-testid":"delete-schedule",destructive:!0,$$events:{click:()=>c(A,!0)},children:(X,le)=>{xe();var D=me();x(ue=>u(D,ue),[()=>r("common.delete")],t),d(X,D)},$$slots:{default:!0}}),d(s,n)},$$slots:{default:!0}}),a(De);var it=i(De,2),yt=o(it);{var mr=s=>{var l=Qs(),n=o(l);const p=t(()=>{var h,B;return(B=(h=e(m))==null?void 0:h.info)==null?void 0:B.invalidScheduleError});Kt(n,{get error(){return e(p)}}),a(l),d(s,l)};_e(yt,s=>{var l,n;(n=(l=e(m))==null?void 0:l.info)!=null&&n.invalidScheduleError&&s(mr)})}var kt=i(yt,2);{var _r=s=>{var l=Vs(),n=o(l),p=o(n),h=o(p),B=i(h);us(B,{key:"common.workflows-plural",get count(){return J().count}}),a(p);var ye=i(p,2);jt(ye,{size:"xs",variant:"ghost",leadingIcon:"retry",$$events:{click:()=>{c(V,Oe(H)),Be(Yr,Date.now())}},children:(X,le)=>{var D=Pe(),ue=j(D);{var dt=He=>{var Je=me();x(Ke=>u(Je,`+${Ke??""}`),[()=>J().newCount.toLocaleString()],t),d(He,Je)};_e(ue,He=>{J().newCount>0&&He(dt)})}d(X,D)},$$slots:{default:!0}}),a(n);var Te=i(n,2);ls(Te,{staticQuery:Q}),a(l),x(X=>u(h,`${X??""} `),[()=>J().count.toLocaleString()],t),d(s,l)};_e(kt,s=>{F()&&s(_r)})}var Tt=i(kt,2),ct=o(Tt),Pt=o(ct);const gr=t(()=>{var s,l;return(l=(s=e(m))==null?void 0:s.info)==null?void 0:l.recentActions});Bs(Pt,{namespace:w,get recentRuns(){return e(gr)},workflowQuery:Q});var St=i(Pt,2);const hr=t(()=>{var s,l;return(l=(s=e(m))==null?void 0:s.info)==null?void 0:l.futureActionTimes});Es(St,{get futureRuns(){return e(hr)}});var Ct=i(St,2);const $r=t(()=>{var s,l;return(l=(s=e(m))==null?void 0:s.schedule)==null?void 0:l.spec}),xr=t(()=>{var s,l;return(l=(s=e(m))==null?void 0:s.schedule)==null?void 0:l.state}),wr=t(()=>{var s,l;return(l=(s=e(m))==null?void 0:s.schedule)==null?void 0:l.policies}),br=t(()=>{var s,l,n;return(n=(l=(s=e(m))==null?void 0:s.schedule)==null?void 0:l.state)==null?void 0:n.notes});ks(Ct,{get spec(){return e($r)},get state(){return e(xr)},get policies(){return e(wr)},get notes(){return e(br)}});var yr=i(Ct,2);const kr=t(()=>{var s;return((s=e(m))==null?void 0:s.searchAttributes)??{}});Hs(yr,{get searchAttributes(){return e(kr)}}),a(ct);var At=i(ct,2),It=o(At);const Tr=t(()=>{var s,l,n,p;return(p=(n=(l=(s=e(m))==null?void 0:s.schedule)==null?void 0:l.action)==null?void 0:n.startWorkflow)==null?void 0:p.input});Ms(It,{get input(){return e(Tr)}});var Pr=i(It,2);const Sr=t(()=>{var s,l,n,p;return(p=(n=(l=(s=e(m))==null?void 0:s.schedule)==null?void 0:l.spec)==null?void 0:n.structuredCalendar)==null?void 0:p[0]}),Cr=t(()=>{var s,l,n,p;return(p=(n=(l=(s=e(m))==null?void 0:s.schedule)==null?void 0:l.spec)==null?void 0:n.interval)==null?void 0:p[0]}),Ar=t(()=>{var s,l,n;return(n=(l=(s=e(m))==null?void 0:s.schedule)==null?void 0:l.spec)==null?void 0:n.timezoneName});Cs(Pr,{get calendar(){return e(Sr)},get interval(){return e(Cr)},get timezoneName(){return e(Ar)}}),a(At),a(Tt),a(it);var Dt=i(it,2);const Ir=t(()=>{var s;return(s=e(m))!=null&&s.schedule.state.paused?r("schedules.unpause"):r("schedules.pause")}),Dr=t(()=>r("common.cancel")),Mr=t(()=>!e(T));rt(Dt,{id:"pause-schedule-modal",confirmType:"primary",get confirmText(){return e(Ir)},get cancelText(){return e(Dr)},get confirmDisabled(){return e(Mr)},get open(){return e(K)},set open(s){c(K,s)},$$events:{confirmModal:()=>Z(e(m)),cancelModal:$t},$$slots:{title:(s,l)=>{var n=Gs(),p=o(n,!0);a(n),x(h=>u(p,h),[()=>{var h;return(h=e(m))!=null&&h.schedule.state.paused?r("schedules.unpause-modal-title"):r("schedules.pause-modal-title")}],t),d(s,n)},content:(s,l)=>{var n=Js(),p=o(n),h=o(p,!0);a(p);var B=i(p,2),ye=o(B,!0);a(B);var Te=i(B,2);const X=t(()=>r("common.reason")),le=t(()=>r("common.reason"));cs(Te,{id:"pause-reason",get placeholder(){return e(X)},get label(){return e(le)},labelHidden:!0,get value(){return e(T)},set value(D){c(T,D)},$$legacy:!0}),a(n),x((D,ue)=>{u(h,D),u(ye,ue)},[()=>{var D;return(D=e(m))!=null&&D.schedule.state.paused?r("schedules.unpause-modal-confirmation",{schedule:b}):r("schedules.pause-modal-confirmation",{schedule:b})},()=>{var D;return(D=e(m))!=null&&D.schedule.state.paused?r("schedules.unpause-reason"):r("schedules.pause-reason")}],t),d(s,n)}},$$legacy:!0});var Mt=i(Dt,2);const Rr=t(()=>r("schedules.trigger")),Ur=t(()=>r("common.cancel"));rt(Mt,{id:"trigger-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(Rr)},get cancelText(){return e(Ur)},get loading(){return e(M)},get open(){return e(ie)},set open(s){c(ie,s)},$$events:{confirmModal:()=>pe(),cancelModal:ee},$$slots:{title:(s,l)=>{var n=Ks(),p=o(n,!0);a(n),x(h=>u(p,h),[()=>r("schedules.trigger-modal-title")],t),d(s,n)},content:(s,l)=>{var n=Xs(),p=o(n);Gt(p,{group:O,name:"trigger-event-id",class:"h-auto overflow-auto",children:(h,B)=>{var ye=Pe(),Te=j(ye);Fe(Te,1,()=>q,Ee,(X,le)=>{Jt(X,{get id(){return e(le).value},get value(){return e(le).value},get label(){return e(le).label},get description(){return e(le).description}})}),d(h,ye)},$$slots:{default:!0}}),a(n),d(s,n)}},$$legacy:!0});var Rt=i(Mt,2);const Wr=t(()=>r("schedules.schedule")),Br=t(()=>r("common.cancel"));rt(Rt,{id:"backfill-schedule-modal",large:!0,confirmType:"primary",get confirmText(){return e(Wr)},get cancelText(){return e(Br)},get loading(){return e(M)},get open(){return e(se)},set open(s){c(se,s)},$$events:{confirmModal:()=>or(),cancelModal:Qe},$$slots:{title:(s,l)=>{var n=Ys(),p=o(n);a(n),x((h,B)=>u(p,`${h??""}
        ${B??""}`),[()=>r("schedules.schedule"),()=>r("schedules.backfill")],t),d(s,n)},content:(s,l)=>{var n=Zs(),p=o(n),h=o(p);const B=t(()=>r("common.start")),ye=t(()=>r("common.today")),Te=t(()=>r("common.close")),X=t(()=>r("common.clear-input-button-label"));Nt(h,{get label(){return e(B)},get selected(){return e(oe)},get todayLabel(){return e(ye)},get closeLabel(){return e(Te)},get clearLabel(){return e(X)},$$events:{datechange:ze}});var le=i(h,2);Qt(le,{twelveHourClock:!1,get hour(){return e(P)},set hour(E){c(P,E)},get minute(){return e(L)},set minute(E){c(L,E)},get second(){return e(fe)},set second(E){c(fe,E)},$$legacy:!0});var D=i(le,2);const ue=t(()=>r("common.end")),dt=t(()=>r("common.today")),He=t(()=>r("common.close")),Je=t(()=>r("common.clear-input-button-label"));Nt(D,{get label(){return e(ue)},get selected(){return e(ne)},get todayLabel(){return e(dt)},get closeLabel(){return e(He)},get clearLabel(){return e(Je)},$$events:{datechange:ot}});var Ke=i(D,2);Qt(Ke,{twelveHourClock:!1,get hour(){return e(re)},set hour(E){c(re,E)},get minute(){return e(we)},set minute(E){c(we,E)},get second(){return e(ce)},set second(E){c(ce,E)},$$legacy:!0});var Ut=i(Ke,2),Wt=o(Ut);is(Wt,{name:"clock","aria-hidden":"true"});var Bt=i(Wt,2),Hr=o(Bt);a(Bt),a(Ut),a(p);var Ft=i(p,4),zt=o(Ft);Gt(zt,{group:O,name:"backfill-event-id",class:"h-auto overflow-auto",children:(E,Lt)=>{var ut=Pe(),Xe=j(ut);Fe(Xe,1,()=>q.slice(0,e(te)?q.length:3),Ee,(vt,Ye)=>{Jt(vt,{get id(){return e(Ye).value},get value(){return e(Ye).value},get label(){return e(Ye).label},get description(){return e(Ye).description}})}),d(E,ut)},$$slots:{default:!0}});var Or=i(zt,2);{var qr=E=>{jt(E,{variant:"ghost",size:"xs",$$events:{click:()=>c(te,!0)},children:(Lt,ut)=>{xe();var Xe=me();x(vt=>u(Xe,vt),[()=>r("schedules.more-options")],t),d(Lt,Xe)},$$slots:{default:!0}})};_e(Or,E=>{e(te)||E(qr)})}a(Ft),a(n),x(E=>u(Hr,`${E??""} Universal Standard Time
              (UTC)`),[()=>r("common.based-on-time-preface")],t),d(s,n)}},$$legacy:!0});var Fr=i(Rt,2);const zr=t(()=>r("common.delete")),Lr=t(()=>r("common.cancel"));rt(Fr,{id:"delete-schedule-modal",confirmType:"destructive",get confirmText(){return e(zr)},get cancelText(){return e(Lr)},get open(){return e(A)},set open(s){c(A,s)},get error(){return e(_)},set error(s){c(_,s)},$$events:{confirmModal:Y,cancelModal:$t},$$slots:{title:(s,l)=>{var n=ea(),p=o(n,!0);a(n),x(h=>u(p,h),[()=>r("schedules.delete-modal-title")],t),d(s,n)},content:(s,l)=>{var n=ta(),p=o(n),h=o(p,!0);a(p),a(n),x(B=>u(h,B),[()=>r("schedules.delete-modal-confirmation",{schedule:b})],t),d(s,n)}},$$legacy:!0}),x(s=>{var l,n,p,h,B;u(ir,(B=(h=(p=(n=(l=e(m))==null?void 0:l.schedule)==null?void 0:n.action)==null?void 0:p.startWorkflow)==null?void 0:h.workflowType)==null?void 0:B.name),u(cr,s)},[()=>{var s,l;return r("common.created",{created:je((l=(s=e(m))==null?void 0:s.info)==null?void 0:l.createTime,U(),{relative:G()})})}],t),d(be,ke)};_e(Ce,be=>{k()?be(Ie):be(Ue,!1)})}d(W,de)},(W,m)=>{var de=sa(),Ce=j(de),Ie=o(Ce),Ue=o(Ie);const be=t(()=>et({namespace:w}));qe(Ue,{get href(){return e(be)},icon:"chevron-left",children:(Ae,Ve)=>{xe();var Ge=me();x(Le=>u(Ge,Le),[()=>r("schedules.back-to-schedules")],t),d(Ae,Ge)},$$slots:{default:!0}});var ke=i(Ue,2);ke.textContent=b;var De=i(ke,2);De.textContent=w,a(Ie),a(Ce);var We=i(Ce,2);const Me=t(()=>{var Ae;return(Ae=e(m))==null?void 0:Ae.message});Kt(We,{get error(){return e(Me)}}),d(W,de)}),d(I,xt),he(),S()}var na=y("<!> <!>",1);function Za(I,v){ge(v,!1);const[f,S]=at(),g=()=>ve(Yt,"$page",f),$=g().params.schedule;$e();var k=na(),C=j(k);Er(C,{title:`Schedule | ${$}`,get url(){return g().url.href}});var U=i(C,2);oa(U,{}),d(I,k),he(),S()}export{Za as component};
