import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as Z,f as G,r as p,b as ee,g as t,e as d,n as M,t as W,d as m,c as S,l as oe,a as ce,i as ve,m as U,s as Q}from"../chunks/Dv5jDC8Z.js";import{c as ie,a,t as g,b as j}from"../chunks/BM_uyzAk.js";import{i as te}from"../chunks/CM2QeVoh.js";import{s as re,a as R}from"../chunks/CEr_ApTH.js";import{p as ae}from"../chunks/C4EHgxxn.js";import{P as fe}from"../chunks/PLLlBlGt.js";import{s as A}from"../chunks/CnnFVxmh.js";import{i as V}from"../chunks/FbCjvpNA.js";import{k as ue}from"../chunks/ehIHThNH.js";import{e as X,i as se}from"../chunks/CocFUsaO.js";import{s as ge,c as _e}from"../chunks/wdddUT-U.js";import{p as ne}from"../chunks/BbkaS_Cl.js";import{L as Y}from"../chunks/Do7dxYOJ.js";import{t as r}from"../chunks/CZMG2GAD.js";import{f as le,t as ye,r as $e}from"../chunks/9czO_RoD.js";import{l as xe,m as he}from"../chunks/Df1CJasG.js";import{D as pe,f as be}from"../chunks/BkNwZgc_.js";import{A as ke}from"../chunks/CXRblWjG.js";import{B as we}from"../chunks/BXfWvgor.js";import{E as Pe}from"../chunks/lbyfKwPg.js";import{A as De}from"../chunks/CMTY4xxu.js";var Ce=g('<td class="p-2 text-left"><!></td>'),Te=g('<td class="whitespace-pre-line break-words p-2 text-left"><div class="flex flex-col gap-1"><!> <!></div></td>'),Fe=g("<p> </p>"),Le=g('<td class="truncate p-2 text-left"><div class="flex flex-col gap-1"><!> <p> </p></div></td>'),Ve=g('<td class="truncate p-2 text-center"><p><!></p></td>'),We=g("<tr></tr>");function Ae(q,D){Z(D,!1);const[C,I]=re(),T=()=>R(ae,"$page",C),y=()=>R(ye,"$timeFormat",C),b=()=>R($e,"$relativeTime",C);let i=ne(D,"deployment",8),z=ne(D,"columns",8);te();var B=We();X(B,5,z,({label:F})=>F,(F,H)=>{let $=()=>t(H).label;var k=ie(),J=G(k);{var K=w=>{var L=Ce(),v=d(L);const h=m(()=>xe({namespace:T().params.namespace,deployment:i().name}));Y(v,{get href(){return t(h)},children:(e,o)=>{M();var s=j();W(()=>A(s,i().name)),a(e,s)},$$slots:{default:!0}}),p(L),a(w,L)},N=(w,L)=>{{var v=e=>{var o=Te(),s=d(o),f=d(s);{var n=c=>{const u=m(()=>r("deployments.ramping-percentage",{percentage:i().routingConfig.rampingVersionPercentage}));pe(c,{status:"Ramping",get version(){return i().routingConfig.rampingVersion},get label(){return t(u)}})};V(f,c=>{i().routingConfig.rampingVersion&&c(n)})}var l=S(f,2);const _=m(()=>r("deployments.current"));pe(l,{status:"Current",get version(){return i().routingConfig.currentVersion},get label(){return t(_)}}),p(s),p(o),a(e,o)},h=(e,o)=>{{var s=n=>{var l=Le(),_=d(l),c=d(_);{var u=x=>{var O=Fe(),me=d(O,!0);p(O),W(de=>A(me,de),[()=>le(i().routingConfig.rampingVersionChangedTime,y(),{relative:b()})],m),a(x,O)};V(c,x=>{i().routingConfig.rampingVersionChangedTime&&x(u)})}var P=S(c,2),E=d(P,!0);p(P),p(_),p(l),W(x=>A(E,x),[()=>le(i().createTime,y(),{relative:b()})],m),a(n,l)},f=(n,l)=>{{var _=c=>{var u=Ve(),P=d(u),E=d(P);const x=m(()=>he({namespace:T().params.namespace,query:`TemporalWorkerDeployment="${i().name}"`}));Y(E,{icon:"external-link",get href(){return t(x)}}),p(P),p(u),a(c,u)};V(n,c=>{$()===r("deployments.workflows")&&c(_)},l)}};V(e,n=>{$()===r("deployments.deployed")?n(s):n(f,!1)},o)}};V(w,e=>{$()===r("deployments.deployment-version")?e(v):e(h,!1)},L)}};V(J,w=>{$()===r("deployments.name")?w(K):w(N,!1)})}a(F,k)}),p(B),a(q,B),ee(),I()}var Be=g('<caption class="sr-only" slot="caption"> </caption>'),Ee=g('<div class="flex flex-col gap-4" slot="header"><div class="flex flex-wrap items-center gap-2"><h1> </h1> <!></div></div>'),Se=g("<th> </th>"),qe=g('<tr slot="headers" class="text-left"></tr>'),Ie=g('<p class="text-center">Enable Worker Deployments to manage your workers more effectively. <!>.</p> <!>',1),Me=g('<div class="flex flex-col gap-4"><!></div>');function Re(q,D){Z(D,!1);const[C,I]=re(),T=()=>R(ae,"$page",C),y=U(),b=U();let i=U("");const z=$=>{var k;Q(i,((k=$==null?void 0:$.body)===null||k===void 0?void 0:k.message)||r("deployments.error-message-fetching"))},B=[{label:r("deployments.name"),pinned:!0},{label:r("deployments.deployment-version"),pinned:!0},{label:r("deployments.deployed"),pinned:!0},{label:r("deployments.workflows"),pinned:!0}];oe(()=>T(),()=>{Q(y,T().params.namespace)}),oe(()=>t(y),()=>{Q(b,()=>(Q(i,""),be(t(y),"",z)))}),ce(),te();var F=Me(),H=d(F);ue(H,()=>[t(y)],$=>{const k=m(()=>r("deployments.deployments")),J=m(()=>r("common.per-page")),K=m(()=>r("common.next")),N=m(()=>r("common.previous")),w=m(()=>r("deployments.empty-state-title")),L=m(()=>r("deployments.error-message-fetching"));De($,{get onFetch(){return t(b)},onError:z,get"aria-label"(){return t(k)},get pageSizeSelectLabel(){return t(J)},get nextButtonLabel(){return t(K)},get previousButtonLabel(){return t(N)},get emptyStateMessage(){return t(w)},get errorMessage(){return t(L)},children:ve,$$slots:{default:(v,h)=>{const e=m(()=>h.visibleItems);var o=ie(),s=G(o);X(s,1,()=>t(e),se,(f,n)=>{Ae(f,{get deployment(){return t(n)},columns:B})}),a(v,o)},caption:(v,h)=>{var e=Be(),o=d(e,!0);p(e),W(s=>A(o,s),[()=>r("deployments.deployments")],m),a(v,e)},header:(v,h)=>{var e=Ee(),o=d(e),s=d(o),f=d(s,!0);p(s);var n=S(s,2);we(n,{class:"shrink-0",children:(l,_)=>{M();var c=j("Pre-Release");a(l,c)},$$slots:{default:!0}}),p(o),p(e),W(l=>A(f,l),[()=>r("deployments.worker-deployments")],m),a(v,e)},headers:(v,h)=>{var e=qe();X(e,5,()=>B,se,(o,s,f)=>{let n=()=>t(s).label;var l=Se();ge(l,1,_e(f===0&&"w-full"));var _=d(l,!0);p(l),W(()=>A(_,n())),a(o,l)}),p(e),a(v,e)},empty:(v,h)=>{const e=m(()=>r("deployments.empty-state-title"));Pe(v,{get title(){return t(e)},class:"px-4",children:(o,s)=>{var f=Ie(),n=G(f),l=S(d(n));Y(l,{href:"https://docs.temporal.io/worker-deployments",newTab:!0,children:(u,P)=>{M();var E=j("Learn more");a(u,E)},$$slots:{default:!0}}),M(),p(n);var _=S(n,2);{var c=u=>{ke(u,{intent:"warning",icon:"warning",class:"px-12",children:(P,E)=>{M();var x=j();W(()=>A(x,t(i))),a(P,x)},$$slots:{default:!0}})};V(_,u=>{t(i)&&u(c)})}a(o,f)},$$slots:{default:!0}})}}})}),p(F),a(q,F),ee(),I()}var ze=g("<!> <!>",1);function dt(q,D){Z(D,!1);const[C,I]=re(),T=()=>R(ae,"$page",C);te();var y=ze(),b=G(y);fe(b,{title:"Deployments",get url(){return T().url.href}});var i=S(b,2);Re(i,{}),a(q,y),ee(),I()}export{dt as component};
