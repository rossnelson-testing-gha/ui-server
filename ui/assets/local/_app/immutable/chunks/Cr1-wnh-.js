import{au as q,J as B,F as m,v as F,aA as G,ak as h,E as c,S as J,U as k,w as L,V as w,m as A,aB as C,aC as D,aD as T,N as p,O as y,aE as O,I as P}from"./Dv5jDC8Z.js";const I=0,l=1,N=2;function Z(H,S,n,x,o){m&&F();var i=H,E=q(),U=P,a=k,r,s,t,_=(E?w:A)(void 0),v=(E?w:A)(void 0),d=!1;function u(e,f){d=!0,f&&(C(b),D(b),T(U));try{e===I&&n&&(r?p(r):r=c(()=>n(i))),e===l&&x&&(s?p(s):s=c(()=>x(i,_))),e===N&&o&&(t?p(t):t=c(()=>o(i,v))),e!==I&&r&&y(r,()=>r=null),e!==l&&s&&y(s,()=>s=null),e!==N&&t&&y(t,()=>t=null)}finally{f&&(T(null),D(null),C(null),O())}}var b=B(()=>{if(a!==(a=S())){if(G(a)){var e=a;d=!1,e.then(f=>{e===a&&(h(_,f),u(l,!0))},f=>{if(e===a&&(h(v,f),u(N,!0),!o))throw v.v}),m?n&&(r=c(()=>n(i))):J(()=>{d||u(I,!0)})}else h(_,a),u(l,!1);return()=>a=k}});m&&(i=L)}export{Z as a};
