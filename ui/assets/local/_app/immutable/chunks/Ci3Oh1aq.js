import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as ue,aN as Pe,l as ce,a as fe,f as v,c as j,g as t,t as ie,d as M,b as me,ag as ve,e as ge,r as _e,as as ke,s as I,m as A}from"./Dv5jDC8Z.js";import{a as i,c as q,t as B}from"./BM_uyzAk.js";import{s as E}from"./CevXMagP.js";import{b as Ie}from"./Dyvkszol.js";import{i as pe}from"./CM2QeVoh.js";import{l as W,p as a}from"./BbkaS_Cl.js";import{b as ne,s as be,a as X}from"./CEr_ApTH.js";import{w as F,o as xe,c as Me,a as qe}from"./s0RhsljA.js";import"./CSKLQuXW.js";import{M as Ee,a as Le,d as Oe}from"./DteaHS_F.js";import{s as Se}from"./CnnFVxmh.js";import{i as se}from"./FbCjvpNA.js";import{k as we}from"./ehIHThNH.js";import{r as Ve,b as He,C as Ne}from"./wdddUT-U.js";import{I as de}from"./CrYHGHR9.js";import{L as Te}from"./BtoDfu-7.js";import{M as ze}from"./DAcXBLrE.js";import{t as De}from"./Ds6tgvmq.js";const he="select-context";var je=B("<input> <!>",1),Ae=B('<span class="text-xs text-danger"> </span>'),Fe=B("<!> <!> <!> <!>",1);function ut(G,e){const J=W(e,["children","$$slots","$$events","$$legacy"]),L=W(J,["label","labelHidden","id","value","placeholder","disabled","leadingIcon","onChange","menuClass","variant","required","error","valid"]);ue(e,!1);const[h,K]=be(),C=()=>X(s,"$labelCtx",h),$=()=>X(H,"$optionsCtx",h);let Q=a(e,"label",8),R=a(e,"labelHidden",8,!1),g=a(e,"id",8),n=a(e,"value",12,void 0),o=a(e,"placeholder",8,""),_=a(e,"disabled",8,!1),O=a(e,"leadingIcon",8,null),U=a(e,"onChange",8,()=>{}),S=a(e,"menuClass",8,void 0),d=a(e,"variant",8,"secondary"),l=a(e,"required",8,!1),w=a(e,"error",8,""),p=a(e,"valid",8,!0);const V=F(n()),H=F([]),s=F(n()===null||n()===void 0?void 0:n().toString()),u=F(!1);function r(){ne(V,n()),ne(s,N(n()))}const c=y=>{n(y),U()(n())};function N(y){const Y=$().find(T=>T.value===y);return Y!==void 0?Y.label:""}Pe(he,{selectValue:V,selectLabel:s,options:H,open:u,handleChange:c}),xe(()=>{ne(s,N(n()))}),ce(()=>ve(n()),()=>{n(),r()}),fe(),pe(),Ee(G,{class:"w-full",open:u,children:(y,Y)=>{var T=Fe(),le=v(T);Te(le,{class:"pb-1",get label(){return Q()},get hidden(){return R()},get for(){return g()},get required(){return l()}});var re=j(le,2);we(re,C,f=>{const b=M(()=>De("w-full",p()?void 0:"border-danger")),x=M(()=>!_()),Z=M(()=>`${L["data-testid"]??""}-button`);ze(f,{get class(){return t(b)},get hasIndicator(){return t(x)},get disabled(){return _()},get controls(){return`${g()??""}-select`},get variant(){return d()},get"data-testid"(){return t(Z)},children:(ee,ye)=>{var P=je(),k=v(P);Ve(k);let z;var D=j(k,2);{var te=m=>{de(m,{slot:"trailing",name:"lock"})};se(D,m=>{_()&&m(te)})}ie(m=>z=He(k,z,{id:g(),value:!n()&&o()!==""?o():C(),tabindex:"-1",disabled:!0,required:l(),"aria-required":l(),...L,[Ne]:m},"svelte-1j0yr8e"),[()=>({disabled:_()})],M),i(ee,P)},$$slots:{default:!0,leading:(ee,ye)=>{var P=q(),k=v(P);E(k,e,"leading",{},z=>{var D=q(),te=v(D);{var m=ae=>{de(ae,{get name(){return O()}})};se(te,ae=>{O()&&ae(m)})}i(z,D)}),i(ee,P)}}})});var oe=j(re,2);Le(oe,{role:"listbox",get id(){return`${g()??""}-select`},get class(){return S()},children:(f,b)=>{var x=q(),Z=v(x);E(Z,e,"default",{},null),i(f,x)},$$slots:{default:!0}});var Ce=j(oe,2);{var $e=f=>{var b=Ae(),x=ge(b,!0);_e(b),ie(()=>Se(x,w())),i(f,b)};se(Ce,f=>{w()&&!p()&&f($e)})}i(y,T)},$$slots:{default:!0}}),me(),K()}var We=B("<span><!></span>");function ct(G,e){const J=W(e,["children","$$slots","$$events","$$legacy"]),L=W(J,["value","description","disabled","class"]);ue(e,!1);const[h,K]=be(),C=()=>X(Q,"$selectValue",h),$=()=>X(g,"$options",h),{selectValue:Q,handleChange:R,options:g}=ke(he),n=Me();let o=a(e,"value",8),_=a(e,"description",8,""),O=a(e,"disabled",8,!1),U=a(e,"class",8,""),S=A(!1),d=A(),l=A(),w,p=A();xe(()=>{t(l)&&(I(p,t(l).textContent),$().push({value:o(),label:t(p),nativeElement:w}))}),qe(()=>{let s=$().findIndex(u=>u.value===o());s!==void 0&&$().splice(s,1)});const V=()=>{R(t(d)),n("click",{value:t(d)})};ce(()=>(t(l),t(d),ve(o()),C()),()=>{t(l)&&(I(d,o()!==null&&o()!==void 0?o():t(l).textContent),I(S,C()===t(d)),I(p,t(l).textContent))}),fe(),pe();const H=M(()=>L["data-testid"]??"");Oe(G,{role:"option",get selected(){return t(S)},get description(){return _()},get disabled(){return O()},get class(){return U()},get"data-testid"(){return t(H)},$$events:{click:V},children:(s,u)=>{var r=We(),c=ge(r);E(c,e,"default",{},null),_e(r),Ie(r,N=>I(l,N),()=>t(l)),i(s,r)},$$slots:{default:!0,leading:(s,u)=>{var r=q(),c=v(r);E(c,e,"leading",{},null),i(s,r)},trailing:(s,u)=>{var r=q(),c=v(r);E(c,e,"trailing",{},null),i(s,r)}}}),me(),K()}export{ct as O,ut as S};
