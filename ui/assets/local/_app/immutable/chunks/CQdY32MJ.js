import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as P,f as H,e as x,r as y,c as k,t as S,b as U,l as J,a as N,d as F,g as O,ag as z}from"./Dv5jDC8Z.js";import{s as B}from"./CnnFVxmh.js";import{i as E}from"./FbCjvpNA.js";import{k as G}from"./ehIHThNH.js";import{a as q,t as L}from"./BM_uyzAk.js";import{a as w,s as K}from"./wdddUT-U.js";import{i as R}from"./CM2QeVoh.js";import{p as a}from"./BbkaS_Cl.js";import{a as M}from"./s0RhsljA.js";import{C as Q}from"./uEljFHmr.js";import{e as W}from"./C1S4hUbu.js";import{I as X}from"./CrYHGHR9.js";import{t as g}from"./CZMG2GAD.js";import{t as Y}from"./S8vTd6-A.js";import{L as Z}from"./BtoDfu-7.js";import{T as $}from"./CcIHoDhR.js";import{v as ee}from"./Dz_GI0CC.js";var te=L('<label class="file-upload-label svelte-quefyv"><!></label> <input class="hidden" type="file">',1);function ae(T,e){P(e,!1);let s=a(e,"id",8),o=a(e,"accept",8,".json"),r=a(e,"onUpload",8);const I=j=>{var m;const v=j.target,d=(m=v==null?void 0:v.files)===null||m===void 0?void 0:m[0],l=new FileReader;d&&(l.readAsText(d),l.onload=()=>{var n,f;try{const _=(f=(n=l==null?void 0:l.result)===null||n===void 0?void 0:n.toString())!==null&&f!==void 0?f:"";r()(_)}catch{Y.push({variant:"error",message:g("common.upload-error")})}})};R();var u=te(),i=H(u),p=x(i);X(p,{name:"upload"}),y(i);var c=k(i,2);S(()=>{w(i,"for",s()),w(c,"id",s()),w(c,"accept",o())}),W("change",c,I),q(T,u),U()}var re=L('<div class="flex flex-col gap-2"><!> <div class="flex gap-2"><!> <!></div> <span> </span></div>');function Te(T,e){P(e,!1);let s=a(e,"id",24,ee),o=a(e,"error",12,!1),r=a(e,"input",12),I=a(e,"label",24,()=>g("workflows.signal-payload-input-label")),u=a(e,"loading",12,!1),i=a(e,"hintText",24,()=>g("workflows.signal-payload-input-label-hint")),p=a(e,"editing",8,!0);const c=t=>{if(!r())return!0;try{return JSON.parse(t),!0}catch{return!1}},j=t=>{r(t.detail)},m=()=>{r(""),u(!1)},v=t=>{r(t)};M(m),J(()=>z(r()),()=>{o(!c(r()))}),N(),R();var d=re(),l=x(d);Z(l,{get for(){return s()},get label(){return I()}});var n=k(l,2),f=x(n);G(f,()=>[u(),p()],t=>{Q(t,{get id(){return s()},maxHeight:320,get content(){return r()},get editable(){return p()},copyable:!1,$$events:{change:j}})});var _=k(f,2);{var V=t=>{const h=F(()=>g("common.upload-json"));$(t,{get text(){return O(h)},topRight:!0,children:(D,le)=>{ae(D,{get id(){return`${s()??""}-input-file-upload`},onUpload:v})},$$slots:{default:!0}})};E(_,t=>{p()&&t(V)})}y(n);var b=k(n,2);let C;var A=x(b,!0);y(b),y(d),S((t,h)=>{C=K(b,1,`text-xs ${(o()?"text-danger":"text-primary")??""} inline-block`,null,C,t),w(b,"role",o()?"alert":null),B(A,h)},[()=>({hidden:!i()&&!o()}),()=>o()?g("common.input-valid-json"):i()],F),q(T,d),U()}export{Te as P};
