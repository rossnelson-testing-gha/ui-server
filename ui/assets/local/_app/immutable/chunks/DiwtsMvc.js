import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as se,m as R,g as t,e as P,c as L,s as B,r as M,b as le,d as a,l as ve,ag as xe,a as de,f as ue,n as z,t as X,aO as ye}from"./Dv5jDC8Z.js";import{s as J}from"./CnnFVxmh.js";import{e as me,i as pe}from"./CocFUsaO.js";import{a as h,t as j,c as Te,b as Q}from"./BM_uyzAk.js";import{s as we}from"./wdddUT-U.js";import{i as oe}from"./CM2QeVoh.js";import{p as F}from"./BbkaS_Cl.js";import{s as ge,a as ae}from"./CEr_ApTH.js";import{B as re}from"./Dwfpj6FK.js";import{t as s}from"./CZMG2GAD.js";import{c as Ae,b as fe}from"./BOxXvrkj.js";import{D as Se,T as Ee,S as _}from"./CtkXdByl.js";import{i as W}from"./FbCjvpNA.js";import{N as De,C as Ce}from"./DTZkThBA.js";import{I as ne}from"./8SvWOUh3.js";import{S as ie,O as te}from"./CiUbnRvp.js";import{o as Ie}from"./s0RhsljA.js";import{g as ke}from"./9czO_RoD.js";import{s as ce}from"./Be5fLl4T.js";var Oe=j('<div class="flex flex-col gap-2"><!> <!></div>');function Ne(Y,i){se(i,!1);let n=F(i,"value",12);const d=n()?new Date(n()):new Date,k=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate());let $=R(ce(k)),T=R(n()?String(d.getUTCHours()):""),r=R(n()?String(d.getUTCMinutes()):""),e=R(n()?String(d.getUTCSeconds()):"");Ie(()=>{n()||m()});const O=p=>{B($,ce(p.detail)),m()},m=()=>{n(ke({date:t($),hour:t(T),minute:t(r),second:t(e)}))};oe();var w=Oe(),A=P(w);const E=a(()=>s("common.value")),l=a(()=>s("common.utc")),D=a(()=>s("common.today")),x=a(()=>s("common.close")),C=a(()=>s("common.clear-input-button-label"));Se(A,{get label(){return`${t(E)??""} (${t(l)??""})`},get selected(){return t($)},get todayLabel(){return t(D)},get closeLabel(){return t(x)},get clearLabel(){return t(C)},$$events:{datechange:O}});var V=L(A,2);Ee(V,{twelveHourClock:!1,get hour(){return t(T)},set hour(p){B(T,p)},get minute(){return t(r)},set minute(p){B(r,p)},get second(){return t(e)},set second(p){B(e,p)},$$events:{timechange:m},$$legacy:!0}),M(w),h(Y,w),le()}var Ue=j("<!> <!>",1),Re=j("<div><!></div>"),Pe=j('<div class="flex flex-col gap-2 border-b border-subtle pb-4 sm:flex-row sm:gap-4"><div class="flex min-w-fit justify-between gap-2 sm:gap-4"><div class="grow [&amp;_button]:w-full"><!></div> <!></div> <!> <!></div>');function Le(Y,i){se(i,!1);const[n,d]=ge(),k=()=>ae(fe,"$customSearchAttributes",n),$=()=>ae(Ae,"$customSearchAttributeOptions",n),T=R();let r=F(i,"attributesToAdd",24,()=>[]),e=F(i,"attribute",12),O=F(i,"onRemove",8);const m=o=>k()[o],w=o=>{const g=m(o);g===_.KEYWORDLIST?e(e().value=[],!0):e().type!==g&&e(e().value=null,!0),e(e().type=g,!0)};ve(()=>xe(r()),()=>{B(T,o=>!!r().find(g=>g.label===o))}),de(),oe();var A=Pe(),E=P(A),l=P(E),D=P(l);const x=a(()=>s("workflows.custom-search-attribute")),C=a(()=>s("workflows.select-attribute"));ie(D,{id:"search-attribute",get label(){return t(x)},get placeholder(){return t(C)},onChange:w,get value(){return e().label},set value(o){e(e().label=o,!0)},children:(o,g)=>{var S=Te(),G=ue(S);me(G,1,$,pe,(c,f)=>{let N=()=>t(f).value,I=()=>t(f).label,b=()=>t(f).type;const u=a(()=>t(T)(N()));te(c,{get disabled(){return t(u)},get value(){return N()},get description(){return b()},children:(y,q)=>{z();var v=Q();X(()=>J(v,I())),h(y,v)},$$slots:{default:!0}})}),h(o,S)},$$slots:{default:!0},$$legacy:!0}),M(l);var V=L(l,2);re(V,{variant:"ghost",leadingIcon:"close",class:"mt-6 w-10 rounded-full sm:hidden",$$events:{click:()=>O()(e().label)}}),M(E);var p=L(E,2);{var be=o=>{const g=a(()=>s("common.value"));ie(o,{get label(){return t(g)},id:"attribute-value",get value(){return e().value},set value(S){e(e().value=S,!0)},children:(S,G)=>{var c=Ue(),f=ue(c);te(f,{value:!0,children:(I,b)=>{z();var u=Q();X(y=>J(u,y),[()=>s("common.true")],a),h(I,u)},$$slots:{default:!0}});var N=L(f,2);te(N,{value:!1,children:(I,b)=>{z();var u=Q();X(y=>J(u,y),[()=>s("common.false")],a),h(I,u)},$$slots:{default:!0}}),h(S,c)},$$slots:{default:!0},$$legacy:!0})},_e=(o,g)=>{{var S=c=>{Ne(c,{get value(){return e().value},set value(f){e(e().value=f,!0)},$$legacy:!0})},G=(c,f)=>{{var N=b=>{var u=Re(),y=P(u);const q=a(()=>s("common.value")),v=a(()=>e().value<Number.MAX_SAFE_INTEGER);De(y,{get label(){return t(q)},id:"attribute-value",get valid(){return t(v)},hintText:"Number is too large",max:Number.MAX_SAFE_INTEGER,get value(){return e().value},set value(H){e(e().value=H,!0)},$$legacy:!0}),M(u),h(b,u)},I=(b,u)=>{{var y=v=>{const H=a(()=>s("common.value"));Ce(v,{get label(){return t(H)},id:"attribute-value",class:"w-full",removeChipButtonLabel:K=>s("workflows.remove-keyword-label",{keyword:K}),get chips(){return e().value},set chips(K){e(e().value=K,!0)},$$legacy:!0})},q=(v,H)=>{{var K=U=>{const Z=a(()=>s("common.value"));ne(U,{get label(){return t(Z)},id:"attribute-value",class:"grow",get value(){return e().value},set value(ee){e(e().value=ee,!0)},$$legacy:!0})},$e=U=>{const Z=a(()=>s("common.value")),ee=a(()=>s("workflows.unsupported-attribute"));ne(U,{get label(){return t(Z)},id:"attribute-value",class:"grow",get placeholder(){return t(ee)},error:!0,disabled:!0,value:""})};W(v,U=>{e().type===_.TEXT||e().type===_.KEYWORD||e().type===_.UNSPECIFIED?U(K):U($e,!1)},H)}};W(b,v=>{e().type===_.KEYWORDLIST?v(y):v(q,!1)},u)}};W(c,b=>{e().type===_.INT||e().type===_.DOUBLE?b(N):b(I,!1)},f)}};W(o,c=>{e().type===_.DATETIME?c(S):c(G,!1)},g)}};W(p,o=>{e().type===_.BOOL?o(be):o(_e,!1)})}var he=L(p,2);re(he,{variant:"ghost",leadingIcon:"close",class:"mt-6 w-10 rounded-full max-sm:hidden",$$events:{click:()=>O()(e().label)}}),M(A),h(Y,A),le(),d()}var Be=j("<div><!> <!></div>");function ot(Y,i){se(i,!1);const[n,d]=ge(),k=()=>ae(fe,"$customSearchAttributes",n),$=R();let T=F(i,"class",8,""),r=F(i,"attributesToAdd",28,()=>[]);const e=()=>{r([...r(),{label:null,value:null,type:_.UNSPECIFIED}])},O=l=>{r(r().filter(D=>D.label!==l))};ve(()=>k(),()=>{B($,Object.keys(k()))}),de(),oe();var m=Be(),w=P(m);me(w,1,r,pe,(l,D,x)=>{Le(l,{get attributesToAdd(){return r()},onRemove:O,get attribute(){return r()[x]},set attribute(C){r()[x]=C,ye(()=>r())},$$legacy:!0})});var A=L(w,2);const E=a(()=>!t($).length||r().length===t($).length||r().filter(l=>l.value===""||l.value===null||Array.isArray(l.value)&&l.value.length===0).length>0);re(A,{variant:"ghost",leadingIcon:"add",class:"max-sm:w-full",get disabled(){return t(E)},$$events:{click:e},children:(l,D)=>{z();var x=Q();X(C=>J(x,C),[()=>s("workflows.add-search-attribute")],a),h(l,x)},$$slots:{default:!0}}),M(m),X(()=>we(m,1,`flex flex-col gap-4 ${T()??""}`)),h(Y,m),le(),d()}export{ot as A};
