import"./CWj6FrbW.js";import"./69_IOA4Y.js";import{p as I,m as o,l as c,a as W,f as w,g as t,b as z,s as a,az as f,ag as B}from"./Dv5jDC8Z.js";import{c as j,a as q}from"./BM_uyzAk.js";import{s as F}from"./CevXMagP.js";import{i as G}from"./CM2QeVoh.js";import{p as g}from"./BbkaS_Cl.js";import{s as H,a as P}from"./CEr_ApTH.js";import{p as J}from"./n8_2XRoA.js";import{a as K}from"./Cf9asbMp.js";import{c as L,d as M}from"./UO9roHXb.js";import{g as N,a as O,b as Q}from"./wJSJp1IH.js";import{s as y}from"./CTBtQUu0.js";function ce(b,n){I(n,!1);const[_,T]=H(),e=()=>P(J,"$page",_),U=()=>P(K,"$authUser",_),p=o(),u=o(),m=o(),h=o();var r=o();let s=g(n,"value",8),d=g(n,"key",8,""),k=g(n,"onDecode",8,void 0),V=d()&&(!(s()===null||s()===void 0)&&s()[d()])?s()[d()]:s(),i=o(y(V));const x=async E=>{try{const C=await L(E,e().params.namespace,t(h),U().accessToken),l=M(C),A=d()&&(l==null?void 0:l[d()]);A?a(i,y(A)):a(i,y(l)),k()&&k()(t(i))}catch{console.error("Could not decode payloads")}};c(()=>e(),()=>{a(p,N(e().data.settings))}),c(()=>e(),()=>{a(u,O(e().data.settings))}),c(()=>e(),()=>{a(m,Q(e().data.settings))}),c(()=>(e(),f(r),t(p),t(u),t(m)),()=>{a(h,{...e().data.settings,codec:{...a(r,e().data.settings)===null||f(r)===void 0?void 0:f(r).codec,endpoint:t(p),passAccessToken:t(u),includeCredentials:t(m)}})}),c(()=>B(s()),()=>{x(s())}),W(),G();var v=j(),D=w(v);F(D,n,"default",{get decodedValue(){return t(i)}},null),q(b,v),z(),T()}export{ce as P};
